<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="CinemaDashboard_Pro_Final_VND_Fixed" pageWidth="595" pageHeight="842"
              whenNoDataType="AllSectionsNoDetail" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="c2d03372-56d1-420a-814d-506766444855">

    <!-- Styles -->
    <style name="TitleStyle" forecolor="#FFFFFF" fontName="SansSerif" fontSize="26" isBold="true"/>
    <style name="SubtitleStyle" forecolor="#DEDEDE" fontName="SansSerif" fontSize="12" isItalic="false"/>
    <style name="SectionHeader" mode="Opaque" backcolor="#F5F5F5" forecolor="#003366" fontName="SansSerif" fontSize="14" isBold="true">
        <box leftPadding="10">
            <leftPen lineWidth="4.0" lineColor="#003366"/>
        </box>
    </style>
    <style name="CardLabel" forecolor="#666666" fontName="SansSerif" fontSize="10" isBold="true"/>
    <style name="CardValue" forecolor="#333333" fontName="SansSerif" fontSize="16" isBold="true"/>
    <style name="FooterText" forecolor="#999999" fontName="SansSerif" fontSize="9"/>

    <!-- SubDatasets -->
    <subDataset name="dsPayment" uuid="1a2b3c4d-1234-5678-90ab-cdef12345678">
        <field name="method" class="java.lang.String"/>
        <field name="amount" class="java.lang.Long"/>
    </subDataset>

    <subDataset name="dsTopMovie" uuid="2b3c4d5e-2345-6789-01cd-ef1234567890">
        <field name="movieName" class="java.lang.String"/>
        <field name="revenue" class="java.lang.Long"/>
    </subDataset>

    <subDataset name="dsRevenue" uuid="3c4d5e6f-3456-7890-12ef-1234567890ab">
        <field name="date" class="java.util.Date"/>
        <field name="revenue" class="java.math.BigDecimal"/>
    </subDataset>

    <!-- Parameters -->
    <parameter name="p_TotalRevenue" class="java.lang.Double"/>
    <parameter name="p_TicketsSold" class="java.lang.Long"/>
    <parameter name="p_ActiveTheaters" class="java.lang.Long"/>
    <parameter name="p_SeatUtilization" class="java.lang.Double"/>

    <parameter name="ds_TopMovies" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource"/>
    <parameter name="ds_RevenueTrend" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource"/>
    <parameter name="ds_PaymentDist" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource"/>

    <queryString><![CDATA[]]></queryString>

    <!-- TITLE -->
    <title>
        <band height="100" splitType="Stretch">
            <frame>
                <reportElement mode="Opaque" x="-20" y="-20" width="595" height="110" backcolor="#003366" uuid="4a5b6c7d-8901-2345-6789-abcdef012345"/>
                <staticText>
                    <reportElement style="TitleStyle" x="20" y="20" width="350" height="40" uuid="5b6c7d8e-9012-3456-7890-bcdef0123456"/>
                    <text><![CDATA[CINEMA DASHBOARD]]></text>
                </staticText>
                <staticText>
                    <reportElement style="SubtitleStyle" x="20" y="60" width="350" height="20" uuid="6c7d8e9f-0123-4567-8901-cdef01234567"/>
                    <text><![CDATA[Management Report & Analytics]]></text>
                </staticText>
                <staticText>
                    <reportElement x="400" y="25" width="175" height="15" forecolor="#DEDEDE" uuid="7d8e9f0a-1234-5678-9012-def012345678"/>
                    <textElement textAlignment="Right">
                        <font size="10"/>
                    </textElement>
                    <text><![CDATA[Generated on:]]></text>
                </staticText>
                <textField pattern="dd/MM/yyyy, HH:mm">
                    <reportElement x="400" y="40" width="175" height="20" forecolor="#FFFFFF" uuid="8e9f0a1b-2345-6789-0123-ef0123456789"/>
                    <textElement textAlignment="Right">
                        <font size="12" isBold="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
                </textField>
            </frame>
        </band>
    </title>

    <!-- PAGE FOOTER -->
    <pageFooter>
        <band height="30">
            <frame>
                <reportElement mode="Opaque" x="-20" y="0" width="595" height="30" backcolor="#F0F0F0" uuid="9f0a1b2c-3456-7890-1234-f01234567890"/>
                <textField>
                    <reportElement style="FooterText" x="20" y="8" width="200" height="15" uuid="0a1b2c3d-4567-8901-2345-0123456789ab"/>
                    <textFieldExpression><![CDATA["© 2025 Cinema Management System"]]></textFieldExpression>
                </textField>
                <textField evaluationTime="Report">
                    <reportElement style="FooterText" x="480" y="8" width="100" height="15" uuid="1b2c3d4e-5678-9012-3456-123456789abc"/>
                    <textElement textAlignment="Right"/>
                    <textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER} + " of " + $V{PAGE_NUMBER}]]></textFieldExpression>
                </textField>
            </frame>
        </band>
    </pageFooter>

    <!-- SUMMARY -->
    <summary>
        <band height="550" splitType="Stretch">

            <!-- SECTION 1: METRICS -->
            <staticText>
                <reportElement style="SectionHeader" x="0" y="10" width="555" height="25" uuid="2c3d4e5f-6789-0123-4567-23456789abcd"/>
                <textElement verticalAlignment="Middle"/>
                <text><![CDATA[OVERVIEW METRICS]]></text>
            </staticText>

            <!-- Card 1: REVENUE -->
            <frame>
                <reportElement mode="Opaque" x="0" y="45" width="130" height="70" backcolor="#FFFFFF" uuid="3d4e5f6a-7890-1234-5678-3456789abcde"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#DDDDDD"/>
                    <topPen lineWidth="3.0" lineColor="#2ECC71"/>
                    <bottomPen lineWidth="2.0" lineColor="#EEEEEE"/>
                    <rightPen lineWidth="2.0" lineColor="#EEEEEE"/>
                </box>
                <staticText>
                    <reportElement style="CardLabel" x="10" y="10" width="110" height="20" forecolor="#27AE60" uuid="4e5f6a7b-8901-2345-6789-456789abcdef"/>
                    <text><![CDATA[TOTAL REVENUE]]></text>
                </staticText>
                <textField pattern="#,##0 'VNĐ'" textAdjust="ScaleFont">
                    <reportElement style="CardValue" x="10" y="30" width="110" height="30" uuid="5f6a7b8c-9012-3456-7890-56789abcdef0"/>
                    <textElement>
                        <font size="10"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$P{p_TotalRevenue}]]></textFieldExpression>
                </textField>
            </frame>

            <!-- Card 2: Tickets -->
            <frame>
                <reportElement mode="Opaque" x="142" y="45" width="130" height="70" backcolor="#FFFFFF" uuid="6a7b8c9d-0123-4567-8901-6789abcdef01"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#DDDDDD"/>
                    <topPen lineWidth="3.0" lineColor="#3498DB"/>
                    <bottomPen lineWidth="2.0" lineColor="#EEEEEE"/>
                    <rightPen lineWidth="2.0" lineColor="#EEEEEE"/>
                </box>
                <staticText>
                    <reportElement style="CardLabel" x="10" y="10" width="110" height="20" forecolor="#2980B9" uuid="7b8c9d0e-1234-5678-9012-789abcdef012"/>
                    <text><![CDATA[TICKETS SOLD]]></text>
                </staticText>
                <textField pattern="#,##0">
                    <reportElement style="CardValue" x="10" y="30" width="110" height="30" uuid="8c9d0e1f-2345-6789-0123-89abcdef0123"/>
                    <textElement>
                        <font size="10"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$P{p_TicketsSold}]]></textFieldExpression>
                </textField>
            </frame>

            <!-- Card 3 -->
            <frame>
                <reportElement mode="Opaque" x="284" y="45" width="130" height="70" backcolor="#FFFFFF" uuid="9d0e1f2a-3456-7890-1234-9abcdef01234"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#DDDDDD"/>
                    <topPen lineWidth="3.0" lineColor="#F39C12"/>
                    <bottomPen lineWidth="2.0" lineColor="#EEEEEE"/>
                    <rightPen lineWidth="2.0" lineColor="#EEEEEE"/>
                </box>
                <staticText>
                    <reportElement style="CardLabel" x="10" y="10" width="110" height="20" forecolor="#D35400" uuid="0e1f2a3b-4567-8901-2345-abcdef012345"/>
                    <text><![CDATA[ACTIVE THEATERS]]></text>
                </staticText>
                <textField>
                    <reportElement style="CardValue" x="10" y="30" width="110" height="30" uuid="1f2a3b4c-5678-9012-3456-bcdef0123456"/>
                    <textElement>
                        <font size="10"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$P{p_ActiveTheaters}]]></textFieldExpression>
                </textField>
            </frame>

            <!-- Card 4 -->
            <frame>
                <reportElement mode="Opaque" x="425" y="45" width="130" height="70" backcolor="#FFFFFF" uuid="2a3b4c5d-6789-0123-4567-cdef01234567"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#DDDDDD"/>
                    <topPen lineWidth="3.0" lineColor="#9B59B6"/>
                    <bottomPen lineWidth="2.0" lineColor="#EEEEEE"/>
                    <rightPen lineWidth="2.0" lineColor="#EEEEEE"/>
                </box>
                <staticText>
                    <reportElement style="CardLabel" x="10" y="10" width="110" height="20" forecolor="#8E44AD" uuid="3b4c5d6e-7890-1234-5678-def012345678"/>
                    <text><![CDATA[OCCUPANCY RATE]]></text>
                </staticText>
                <textField pattern="#,##0.0 %">
                    <reportElement style="CardValue" x="10" y="30" width="110" height="30" uuid="4c5d6e7f-8901-2345-6789-ef0123456789"/>
                    <textElement>
                        <font size="10"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$P{p_SeatUtilization} / 100.0]]></textFieldExpression>
                </textField>
            </frame>

            <!-- SECTION 2: SALES -->
            <staticText>
                <reportElement style="SectionHeader" x="0" y="130" width="555" height="25" uuid="5d6e7f8a-9012-3456-7890-f01234567890"/>
                <textElement verticalAlignment="Middle"/>
                <text><![CDATA[SALES PERFORMANCE]]></text>
            </staticText>

            <!-- Pie Chart -->
            <frame>
                <reportElement x="0" y="165" width="220" height="180" uuid="6e7f8a9b-0123-4567-8901-0123456789ab"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#CCCCCC"/>
                </box>
                <staticText>
                    <reportElement x="10" y="5" width="200" height="15" forecolor="#003366" uuid="7f8a9b0c-1234-5678-9012-123456789abc"/>
                    <textElement>
                        <font size="10" isBold="true"/>
                    </textElement>
                    <text><![CDATA[Payment Methods]]></text>
                </staticText>
                <pieChart>
                    <chart evaluationTime="Report">
                        <reportElement x="5" y="25" width="210" height="150" uuid="8a9b0c1d-2345-6789-0123-23456789abcd"/>
                        <chartTitle/>
                        <chartSubtitle/>
                        <chartLegend position="Bottom"/>
                    </chart>
                    <pieDataset>
                        <dataset>
                            <datasetRun subDataset="dsPayment" uuid="9b0c1d2e-3456-7890-1234-3456789abcde">
                                <dataSourceExpression><![CDATA[$P{ds_PaymentDist}]]></dataSourceExpression>
                            </datasetRun>
                        </dataset>
                        <keyExpression><![CDATA[($F{method} == null || $F{method}.isEmpty()) ? "Other" : $F{method}]]></keyExpression>
                        <valueExpression><![CDATA[($F{amount} != null) ? $F{amount} : 0L]]></valueExpression>
                        <labelExpression><![CDATA[($F{method} == null || $F{method}.isEmpty()) ? "Other" : $F{method}]]></labelExpression>
                    </pieDataset>
                    <piePlot isCircular="true">
                        <plot/>
                        <itemLabel color="#000000" backgroundColor="#FFFFFF">
                            <font size="8"/>
                        </itemLabel>
                    </piePlot>
                </pieChart>
            </frame>

            <!-- Bar Chart -->
            <frame>
                <reportElement x="230" y="165" width="325" height="180" uuid="0c1d2e3f-4567-8901-2345-456789abcdef"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#CCCCCC"/>
                </box>
                <staticText>
                    <reportElement x="10" y="5" width="300" height="15" forecolor="#003366" uuid="1d2e3f4a-5678-9012-3456-56789abcdef0"/>
                    <textElement>
                        <font size="10" isBold="true"/>
                    </textElement>
                    <text><![CDATA[Top 5 Movies by Revenue ]]></text>
                </staticText>

                <barChart>
                    <chart evaluationTime="Report">
                        <reportElement x="5" y="25" width="315" height="150" uuid="2e3f4a5b-6789-0123-4567-6789abcdef01"/>
                        <chartTitle/>
                        <chartSubtitle/>
                        <chartLegend/>
                    </chart>
                    <categoryDataset>
                        <dataset>
                            <datasetRun subDataset="dsTopMovie" uuid="3f4a5b6c-7890-1234-5678-789abcdef012">
                                <dataSourceExpression><![CDATA[$P{ds_TopMovies}]]></dataSourceExpression>
                            </datasetRun>
                        </dataset>
                        <categorySeries>
                            <seriesExpression><![CDATA["Revenue"]]></seriesExpression>
                            <categoryExpression><![CDATA[($F{movieName} == null) ? "N/A" : $F{movieName}]]></categoryExpression>
                            <valueExpression><![CDATA[($F{revenue} != null) ? $F{revenue} : 0L]]></valueExpression>
                        </categorySeries>
                    </categoryDataset>

                    <barPlot>
                        <plot orientation="Horizontal">
                            <seriesColor seriesOrder="0" color="#3498DB"/>
                        </plot>
                        <itemLabel/>
                        <categoryAxisFormat>
                            <axisFormat tickLabelColor="#000000">
                                <tickLabelFont>
                                    <font size="8"/>
                                </tickLabelFont>
                            </axisFormat>
                        </categoryAxisFormat>
                        <valueAxisFormat>
                            <axisFormat tickLabelColor="#000000">
                                <tickLabelFont>
                                    <font size="8"/>
                                </tickLabelFont>
                            </axisFormat>
                        </valueAxisFormat>
                    </barPlot>
                </barChart>
            </frame>

            <!-- TREND -->
            <staticText>
                <reportElement style="SectionHeader" x="0" y="360" width="555" height="25" uuid="4a5b6c7d-8901-2345-6789-89abcdef0123"/>
                <textElement verticalAlignment="Middle"/>
                <text><![CDATA[REVENUE TREND]]></text>
            </staticText>

            <frame>
                <reportElement x="0" y="395" width="555" height="150" uuid="5b6c7d8e-9012-3456-7890-9abcdef01234"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#CCCCCC"/>
                </box>
                <staticText>
                    <reportElement x="10" y="5" width="300" height="15" forecolor="#003366" uuid="f0a1b2c3-d4e5-f6a7-b8c9-0d1e2f3a4b5c"/>
                    <textElement><font size="10" isBold="true"/></textElement>
                    <text><![CDATA[Daily Revenue Over Time]]></text>
                </staticText>
                <timeSeriesChart>
                    <chart evaluationTime="Report">
                        <reportElement x="5" y="20" width="545" height="120" uuid="6c7d8e9f-0123-4567-8901-abcdef012345"/>
                        <chartTitle/>
                        <chartSubtitle/>
                        <chartLegend/>
                    </chart>
                    <timeSeriesDataset>
                        <dataset>
                            <datasetRun subDataset="dsRevenue" uuid="7d8e9f0a-1234-5678-9012-bcdef0123456">
                                <dataSourceExpression><![CDATA[$P{ds_RevenueTrend}]]></dataSourceExpression>
                            </datasetRun>
                        </dataset>
                        <timeSeries>
                            <seriesExpression><![CDATA["Daily Revenue"]]></seriesExpression>
                            <timePeriodExpression><![CDATA[$F{date}]]></timePeriodExpression>
                            <valueExpression><![CDATA[$F{revenue}]]></valueExpression>
                        </timeSeries>
                    </timeSeriesDataset>
                    <timeSeriesPlot>
                        <plot>
                            <seriesColor seriesOrder="0" color="#E74C3C"/>
                        </plot>
                        <timeAxisFormat>
                            <axisFormat tickLabelColor="#000000">
                                <tickLabelFont>
                                    <font size="8"/>
                                </tickLabelFont>
                            </axisFormat>
                        </timeAxisFormat>
                        <valueAxisFormat>
                            <axisFormat tickLabelColor="#000000">
                                <tickLabelFont>
                                    <font size="8"/>
                                </tickLabelFont>
                            </axisFormat>
                        </valueAxisFormat>
                    </timeSeriesPlot>
                </timeSeriesChart>
            </frame>

        </band>
    </summary>

</jasperReport>