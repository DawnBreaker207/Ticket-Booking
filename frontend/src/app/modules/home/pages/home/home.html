<nz-layout class="min-h-screen">
  <nz-content class="max-w-[1200px] mx-auto pt-8">
    <h2 nz-typography class="text-center mb-8">Phim Đang Chiếu</h2>

    <div nz-row [nzGutter]="[40, 40]">
      @if (movies$ | async; as movies) {
        @for (item of movies; track item.id) {
          <div nz-col [nzXs]="24" [nzSm]="12" [nzMd]="9" [nzLg]="6">
            <nz-card [nzCover]="cover" class="!bg-transparent">
              <ng-template #cover>
                <div class="overflow-hidden rounded-lg">
                  <nz-image
                    [nzDisablePreview]="true"
                    [nzSrc]="item.poster"
                    [nzAlt]="item.title"
                    class="!object-cover w-full h-full"
                  />
                </div>
              </ng-template>

              <h4
                [routerLink]="['/movie/detail', item.id]"
                nz-typography
                class="m-0 p-0 leading-tight cursor-pointer"
              >
                {{ item.title }}
              </h4>
              <span nz-typography class="block mt-1.5">
                <b>Thể loại:</b> {{ item.genres.join(", ") }}
              </span>
              <span nz-typography class="block mt-1">
                <b>Thời lượng:</b> {{ item.duration }} phút
              </span>
              <div class="mt-10">
                <button
                  nz-button
                  nzType="primary"
                  (click)="onSelectMovie(item.id)"
                  class="w-full px-3 py-1.5 mt-2"
                >
                  Mua Vé
                </button>
              </div>
            </nz-card>
          </div>
        }
      } @else {
        <nz-empty> </nz-empty>
      }
    </div>
  </nz-content>
</nz-layout>
