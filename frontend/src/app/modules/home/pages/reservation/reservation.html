<nz-layout class="min-h-screen bg-gray-50">
  <!-- HEADER STEPS -->
  <div class="bg-white! px-0 h-auto shadow-sm sticky top-0 z-50 border-b border-gray-200">
    <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
      <nz-steps nzType="navigation" nzSize="small" [nzCurrent]="index()">
        <nz-step
          nzTitle="Chọn ghế"
          nzIcon="table">
          Vị trí ngồi
        </nz-step>
        <nz-step
          nzTitle="Xác nhận thông tin & phương thức"
          nzIcon="solution">
          Xác nhận thông tin & phương thức
        </nz-step>
      </nz-steps>
    </div>
  </div>

  <!-- BODY CONTENT -->
  <nz-content class="py-8 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <!--   LEFT MAIN CONTENT     -->
      <nz-layout class="!bg-transparent flex-col lg:flex-row gap-8">
        <nz-content class="!bg-transparent flex-1 min-w-0">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 min-h-full">
            @switch (index()) {
              @case (0) {
                @if (totalSeats$ | async) {
                  <app-seat/>
                }
              }
              @case (1) {
                <app-summary/>
              }
              @case (2) {
                <app-payment/>
              }
            }
          </div>
        </nz-content>

        <!--  RIGHT SIDEBAR  -->
        <nz-sider
          [nzWidth]="380"
          nzTheme="light"
          class="!bg-transparent hidden lg:block shrink-0">

          <div class="sticky top-28">
            <app-detail-film
              [index]="index()"
              (stepChange)="onStepChange($event)"
              [steps]="steps()"
            />
          </div>
        </nz-sider>
      </nz-layout>
    </div>
  </nz-content>
</nz-layout>
