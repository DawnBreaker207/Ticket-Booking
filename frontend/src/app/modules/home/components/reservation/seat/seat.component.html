<div class="flex flex-col justify-between h-full">
  <div class="flex flex-col items-center space-y-2 mb-8">
    <!-- Màn hình -->
    <div class="h-1 w-full mb-3">
      <svg class="w-full h-4" viewBox="0 0 100 10" preserveAspectRatio="none">
        <path
          d="M0,10 Q50,-5 100,10"
          stroke="#9CA3AF"
          stroke-width="4"
          fill="transparent"
          stroke-linecap="round"
        />
      </svg>
    </div>
    <div class="mb-2 text-sm text-gray-600 font-semibold">Màn hình chiếu</div>

    <!-- Ghế -->
    @for (row of groupedSeats$ | async; track $index) {
      <div class="flex gap-2 justify-center">
        @for (seat of row; track $index) {
          <div
            (click)="toggleSeat(seat)"
            [ngClass]="getSeatClass(seat)"
            class="flex items-center justify-center text-xs"
          >
            {{ seat.seatNumber }}
          </div>
        }
      </div>
    }

    <!-- Legend -->
    <div class="flex gap-4 mt-6 text-sm justify-center">
      <div class="flex items-center gap-2">
        <div class="w-4 h-4 bg-gray-200 rounded-sm"></div>
        Có sẵn
      </div>
      <div class="flex items-center gap-2">
        <div class="w-4 h-4 bg-blue-500 rounded-sm"></div>
        Đang chọn
      </div>
      <div class="flex items-center gap-2">
        <div class="w-4 h-4 bg-orange-500 rounded-sm"></div>
        Đang giữ
      </div>
      <div class="flex items-center gap-2">
        <div class="w-4 h-4 bg-red-500 rounded-sm"></div>
        Đã đặt
      </div>
    </div>
  </div>
  <div
    class="grid grid-cols-5 justify-between justify-items-stretch divide-gray-200"
  >
    <div class="col-span-3">
      <div class="flex gap-5 items-center align">
        <div
          class="bg-gray-200 flex items-center justify-center text-xs w-10 h-10 rounded-sm cursor-pointer transition-all"
        ></div>
        <h3 class="text-lg font-bold">Ghế thường</h3>
      </div>

      <div class="mt-6">
        {{ (selectSeats$ | async)?.length }} x
        {{ price$ | async | currency: "VND" }}
      </div>
    </div>

    <div class="col-span-1 px-4 border-l-3">
      <h3 class="text-lg font-bold">Tổng tiền</h3>
      <p class="self-end">
        {{ totalPrice$ | async | currency: "VND" }}
      </p>
    </div>
    <app-countdown />
  </div>
</div>
